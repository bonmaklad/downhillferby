---
const navLinks = [
	{ href: '/past-events', label: 'Past Events' },
	{ href: '/build-a-soapbox', label: 'Build Guide' },
	{ href: '/spectators', label: 'Spectators' },
	{ href: '/contact', label: 'Contact' },
];
---

<nav class="sticky top-0 z-40 backdrop-blur bg-white/85 border-b border-brand-silver/40">
	<div class="mx-auto w-full max-w-6xl px-6 py-4">
		<div class="flex items-center justify-between">
			<a class="flex min-w-0 items-center gap-2 sm:gap-3 font-display uppercase text-ink text-[clamp(1rem,5vw,1.4rem)] sm:text-3xl tracking-[0.12em] sm:tracking-[0.22em]" href="/">
				<span class="relative inline-grid place-items-center h-9 w-9 sm:h-12 sm:w-12 rounded-full bg-brand-yellow text-ink font-semibold shadow-neon shadow-brand-red/40"></span>
				<span class="whitespace-nowrap">Soap Box Derby</span>
			</a>
			<ul class="hidden gap-6 text-sm font-semibold uppercase text-ink/80 lg:flex">
			{navLinks.map((link) => (
				<li>
					<a class="transition hover:text-brand-red focus-visible:outline-none focus-visible:text-brand-red" href={link.href}>
						{link.label}
					</a>
				</li>
			))}
			</ul>
			<div class="flex items-center gap-3">
				<a
					class="hidden rounded-full border border-brand-red px-5 py-2 text-sm font-semibold uppercase tracking-widest text-brand-red transition hover:bg-brand-red hover:text-white focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-brand-red/30 sm:inline-block"
					href="/#signup"
				>
					Sign Up
				</a>
				<button
					id="nav-toggle"
					class="flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full border border-brand-ash/30 text-brand-ash transition hover:border-brand-red hover:text-brand-red focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-brand-red/20 lg:hidden"
					aria-label="Open menu"
					aria-controls="mobile-menu"
					aria-expanded="false"
					type="button"
				>
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5" />
					</svg>
				</button>
			</div>
		</div>
		<!-- Mobile menu -->
		<div id="mobile-menu" class="lg:hidden hidden mt-3 rounded-2xl border border-brand-silver/50 bg-white/95 p-3 shadow-lg">
			<nav class="flex flex-col gap-1 text-sm font-semibold uppercase tracking-[0.22em] text-ink/90">
				{navLinks.map((link) => (
					<a href={link.href} class="rounded-xl px-4 py-3 transition hover:bg-brand-yellow/30 hover:text-ink">{link.label}</a>
				))}
				<a href="/#signup" class="mt-1 rounded-full bg-brand-red px-4 py-3 text-center text-white transition hover:brightness-110">Sign Up</a>
			</nav>
		</div>
	</div>
</nav>

<script is:inline>
	const btn = document.getElementById('nav-toggle');
	const menu = document.getElementById('mobile-menu');
	if (btn && menu) {
		btn.addEventListener('click', () => {
			const open = !menu.classList.contains('hidden');
			menu.classList.toggle('hidden');
			btn.setAttribute('aria-expanded', String(!open));
		});
	}
</script>
